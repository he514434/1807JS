<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			.box{width: 600px;margin: 50px auto;position: relative;}
			.bt1,.bt2{line-height:30px;margin: 20px 0;background: #ccc;}
			.box p{width: 400px;margin: 0;position: absolute;left: 0;top: 0;border: solid 2px #aaa;background: #eee;display: none;z-index: 9;}
			.box em{position: absolute;width: 600px;height: 30px;left: 0;top: 0;z-index: 10;}
		</style>
	</head>
	<body>
		<div class="box">
			<div class="bt1">
				<span>这是新闻标题1这是新闻标题1</span>
				<p>这是新闻1的内容这是新闻1的内容这是新闻1的内容这是新闻1的内容这是新闻1的内容这是新闻1的内容这是新闻1的内容</p>
				<!--<em></em>-->
			</div>
			<div class="bt2">
				<span>这是新闻标题2222222222</span>
				<p>这是新闻22222222222的内容这是新闻22222222222的内容这是新闻22222222222的内容这是新闻22222222222的内容这是新闻22222222222的内容这是新闻22222222222的内容这是新闻22222222222的内容这是新闻22222222222的内容</p>
				<!--<em></em>-->
			</div>
		</div>
	</body>
	<script type="text/javascript">
		var abt = document.querySelector(".box").children;
		for(var i=0;i<abt.length;i++){
			abt[i].onmouseover = function(){
				this.children[1].style.display = "block";
				this.onmousemove = function(eve){
					var e = eve || window.event;
//					临时解决闪的bug
//					this.children[1].style.left = e.offsetX + 10 + "px"
//					this.children[1].style.top = e.offsetY + 10 + "px"

//					通过布局解决闪的bug
//					this.children[1].style.left = e.offsetX + "px";
//					this.children[1].style.top = e.offsetY + "px";

//					通过坐标计算解决闪的bug
//					利用clientX-当前大框的left=鼠标在当前元素的坐标
					this.children[1].style.left = e.clientX - this.offsetLeft + "px";
					this.children[1].style.top = e.clientY - this.offsetTop + "px";
//					可以通过不给父级设置相对定位,而不用减去父级的left，但是是否会影响文档流呢？？？
				}
			}
			abt[i].onmouseout = function(){
				this.children[1].style.display = "none";
			}
		}
		
	</script>
</html>
